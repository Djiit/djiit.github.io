<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="lang">
  <head>
    <title data-vue-tag="true">Docker pour les développeurs: Environment as Code - Julien Tanay</title><meta data-vue-tag="true" charset="utf-8"><meta data-vue-tag="true" name="generator" content="Gridsome v0.6.4"><meta data-vue-tag="true" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="true" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="true" name="keywords" data-key="keywords" content="Julien, Tanay, developer, devops, blog"><meta data-vue-tag="true" name="summary" data-key="summary" content="About Software Development, DevOps culture, creative thinking and getting shit done."><meta data-vue-tag="true" name="author" data-key="author" content="Julien Tanay"><meta data-vue-tag="true" name="description" data-key="description" content><meta data-vue-tag="true" name="twitter:card" data-key="twitter:card" content="summary_large_image"><meta data-vue-tag="true" name="twitter:description" data-key="twitter:description" content><meta data-vue-tag="true" name="twitter:title" data-key="twitter:title" content="Docker pour les développeurs: Environment as Code"><meta data-vue-tag="true" name="twitter:site" data-key="twitter:site" content="@djiit"><meta data-vue-tag="true" name="twitter:image" data-key="twitter:image" content><meta data-vue-tag="true" name="twitter:creator" data-key="twitter:creator" content="@djiit"><link data-vue-tag="true" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffa.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffa.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffa.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffa.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffa.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffa.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffa.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffa.png"><link data-vue-tag="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700"><script data-vue-tag="true" src="https://platform.twitter.com/widgets.js" async="true"></script><noscript data-vue-tag="true" ><style>.g-image--loading{display:none;}</style></noscript><link rel="preload" href="/assets/css/0.styles.6049e191.css" as="style"><link rel="preload" href="/assets/js/app.ebfc220b.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.c3598f65.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.5efb5892.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.1da8714b.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.98de59b1.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.0991b643.js"><link rel="stylesheet" href="/assets/css/0.styles.6049e191.css">
  </head>
  <body data-vue-tag="">
    <div data-server-rendered="true" id="app" class="content-wrapper bg-background-primary font-sans text-copy-primary leading-normal flex flex-col min-h-screen"><header class="border-t-14 border-blue-700"><nav class="container mx-auto flex flex-wrap justify-between items-center py-8"><div><a href="/" class="active">Julien Tanay</a></div><div class="block lg:hidden"><button class="flex items-center px-3 py-2 border rounded border-gray-500 hover:text-gray-600 hover:border-gray-600"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="current-color h-3 w-3"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" fill="gray"></path></svg></button></div><ul class="uppercase tracking-wide font-bold w-full block flex-grow lg:flex lg:flex-initial lg:w-auto items-center mt-8 lg:mt-0 hidden"><li class="mr-8 mb-6 lg:mb-0"><div class="relative" data-v-072e84ca><div data-v-3ae9f24e data-v-072e84ca></div><div class="relative w-80" data-v-072e84ca><input type="text" placeholder="Search (Press  "/" to focus)" value="" class="bg-background-form border border-gray-500 rounded-full px-4 pl-10 py-2 outline-none focus:border-blue-500 w-80" data-v-072e84ca><div class="absolute top-0 ml-3" style="top:10px" data-v-072e84ca><svg fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="text-gray-500 h-5 w-5" data-v-072e84ca><path d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" class="heroicon-ui" data-v-072e84ca></path></svg></div><!----></div><!----></div></li><li class="mr-8 mb-6 lg:mb-0"><a href="#" class="text-copy-primary hover:text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></a></li><li class="mr-8 mb-6 lg:mb-0"><a href="/#about" class="text-copy-primary hover:text-gray-600">About</a></li><li class="mr-8 mb-6 lg:mb-0"><a href="/#projects" class="text-copy-primary hover:text-gray-600">Projects</a></li><li class="mr-8 mb-6 lg:mb-0"><a href="/#contact" class="text-copy-primary hover:text-gray-600">Contact</a></li><li><a href="/blog" class="text-copy-primary hover:text-gray-600 active">Blog</a></li></ul></nav></header><div class="flex-grow"><div class="container-inner mx-auto my-16"><h1 class="text-4xl font-bold leading-tight">Docker pour les développeurs: Environment as Code</h1><div class="text-xl text-gray-600 mb-4">August 2, 2015</div><div class="flex mb-8 text-sm"><a href="/blog/tag/Docker" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-blue-300">
        Docker
      </a><a href="/blog/tag/Docker-Compose" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-blue-300">
        Docker-Compose
      </a><a href="/blog/tag/DevOps" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-blue-300">
        DevOps
      </a><a href="/blog/tag/GiantSwarm" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-blue-300">
        GiantSwarm
      </a><a href="/blog/tag/Rancher" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-blue-300">
        Rancher
      </a></div><div class="markdown-body mb-8"><p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 792 269' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-0'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-0)' width='792' height='269' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAWCAYAAABwvpo0AAAACXBIWXMAAAsSAAALEgHS3X78AAAHV0lEQVRYw%2b1Ye1BUVRg/9y6mhrmilVoZyENgUcBE2EWwAsRSFpC7aKBp5issNUUJJBVGSWOFhZVFQhHKR7TiI9SGxAgxrUx7OZWNac%2bZHhNOj5myUe7pd%2b7e1cO6GPVXlnfmx/nO%2b3ufbyHkxtf9T5%2bcTqLSZzjo1IdIlDRN0KdmKP3QFTZiSDL9PxSR5NJv%2bK8KajA6LKqHZRltSJJITOy9ggelJGHgLb1TCOmb6EluZmu%2b5dej1WOtc%2b/1/UFYd/175ufXDF%2b9%2bcLIhQV257jemK6Qo2c%2bSUJX12miJs9U%2bhEzF19nlletxlpjyDCi2X6cFBLi0UjITdMJ6aUoYFFhU3j9cRqeZznK%2bgIUYEhKIxGzl3U6K2bMmE7e5IbWwGME1/GrvVG6whfWA%2bJf7fnnyU49NF5lPjlwaM%2bg%2bcsbhuRZPtblFJ8Mf3rDCd1TJe0%2blp00ePGaNtUDhNjEiYogsPzgiFnZRWPvvKU384y7cyw9RmbMFZyeooSTClelGLjw6TSmrtcbJYHbI3QOVanTuXxr6BSW0l8r4UX2Z%2bcHDp5h/aHZaz/rX9FIA9bX03DbPupXVCsPKN5OfRcVtjn3hCxb76G4/LzczLADX9OROaWF/JlB85YL0RNSRM56Aqz6OFpfte/h8DxJBJMix7xGpZ1jscAUfg9yjcgp5LJXMYXpHf2rFOM%2b6bEEFxurbE64L6H/sAWr6iH8kcDc0p99IXzAStsl3zU1l4atqOjwRz8wx3yezcNDahInSFpHflgxO6jtd6qraPrGb26uzTvXWj4q/ZGwLu48DuYevBJ%2bEj8nuvXQJNNKzB1wtw6houHWiV0ldvfZHnE2NmG8GDJ9oYfT8kNyis8PKt5KAwuraOiGvfLQlTY6aNmz1A9tuMUuBxRspIPM25gnnHGeN85vULTuudaLvZp/psLB8/TWqhYaIT2cptYS8WDyMO48ifuegwe8AwUY0PcEdurZeJLUDIzkLLsO606ifQ%2bIxNwCtNVQ1hDQL6mK02NvK8Y/BLYAXmoe6wu6FmgGbudDp9Mz5RoX/lkrsoPzN%2b4JWLfjJ5/iejl43fYO3Yb9NMBsl33Mdhq4dpscUt5IA832Du%2bSXVBQzY9h%2bZUvDF%2b7wx5Yffi0dtv7dODKTW1351pXRZimhyu5IXlyBBg9DwaWAHpgX3TKZGpwKOAoUI/5UYrARtN3oD0hVDnoU%2bCTrXkU0EGBczD%2bMXAWeBLwBn7AXD5af7QtwFuqsEzZ%2b4EYoKdbL%2bCSiBg5KcOYEBMjDX666iPvvedo%2bMZDss7%2biRy053MabD9Nw6wHaGhlM2X9oF2f0VDrK6wvB%2b8%2bS3VN39PQvWfpkC3H6G1rtsrJwwNikUgT8TqMVa20CQxWcu7aA3cfA4qZAlx4qofQZrRvAsEuc7PHSlMpzpqpJm0bLF2rGjQM81/grieYtwBnrhkCziJHVUDvqJQp4%2bPi4sb5zck/qC2y09sKai72L22k/W3NsrZ0P%2b1bUEcHFNZRrbWJ9it7hQ4o2CKzfr%2by/bK2vOlin9X23wYutdLRqZnmaKPkHzkpMwP1QYLK6BbgWe65FREGR/QOi7e4vER14M0GJR0BfF0VEJuWyTxnvNqvNjg85V7I0A5I6ngK8Koa3hq3SZB/QvhPN23BHE1ZCyW1H/xBNh%2bnpOot%2bY7qFvm%2b7W2U1L1Hhc1vyqTmbZk8/65Mak9QUnG4g1ha/iAVb9A7FpkPdpHwYiB0O4SbCqG80X/RkQSlXsCnQAX6LK7Zy/ArMBhKqAJOgB4OGA3M3ZOkLLTtwFc4Lw37/HDeTyycMJeD8UT1vmTmQc7k6vr0Xv0GYxGspWEvQRYhPf3nF34YXnmAjqh4%2bUL8xj0dIRWN8uCqZlmz6ZjsUf2GrKlqk0VryyVScvAiKXmN3mRppt5ZhYfWE%2bLJzotMmaJhTxrL0s6MDIYzQJ9iyQrM7kN7l8oDYtt0RE1iTOBxqmFuBr0VSjuNfWeY1SGsCW0O5qIx3qyei3HT68D7wB7V6mOwtpqvEbr1pc2YpTAbHzUqYPWGynOtn5yh535sp%2bWnvukgtqOXiLWVoYOUvU5JWSvVWA7RfnmbLgQ%2bkl2El0PJsAgB5YwRmVnEtXBRGdLy1SBH97sSBpLIhUQf7FHrAQmVoLNOYHSn/V78fVwN0T3hgx9eqLSmeQscl3v5eD3xTEmppWHflw2Hj9Kle9uo19rd1LNgB9Uur/nl9iVlJwIezSkaHxPtdyW205S9OvUs/nL%2bbYZQfPFymXYULQ4B9Zyw6n6hi/df5CpIQe%2buyuzODzO2eFZegUJPmDGXLyS0oyaa7lmam/tA0rxFD4xInRo1KXKEj9PiyoK8zZr4%2b%2bMUOmzK7KvOZXUGV9oKXG1/mUHVau7KY4H/tela5vLr9F3NGaXu/xZ4bNUzCp2QMUOwNjRqrrV%2b4OJSDQQWKq9VbV3P/w8Ii5tAopPThWlL8sRl5nIxJrtIHDo9WxydNk2Inpj69zV847vx/Wu%2bPwEzkzweW9xhfwAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="792" alt="Ajout d'un dépôt" data-srcset="/assets/static/docker-logo.82a2fbd.b924367.png 480w, /assets/static/docker-logo.1b953f4.b924367.png 792w" data-sizes="(max-width: 792px) 100vw, 792px" data-src="/assets/static/docker-logo.1b953f4.b924367.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/docker-logo.1b953f4.b924367.png" width="792" alt="Ajout d'un dépôt"></noscript></p>
<p>Docker, ce game changer qu'un certain Solomon Hykes venait (bien trop) rapidement presenter en pleine PyCon UK 2013 (<a href="https://www.youtube.com/watch?v=wW9CAH9nSLs" target="_blank" rel="nofollow noopener noreferrer">souvenirs</a>) change radicalement la vie des (dev)ops. Mais pour un dev' tout court, quelle utilité ?
Spoiler Alert : Docker (et Docker-Compose) va permettre de déclarer de manière simple et portable un ensemble de services tiers liés à notre application. Chaque dev peut alors mettre en route en quelques instants un environnement de développement <em>iso</em> à celui du reste de son équipe. Ou du reste du monde. Portabilité bonjour.</p>
<h2 id="compose-toi-toi-même"><a href="#compose-toi-toi-m%C3%AAme" aria-hidden="true"><span class="icon icon-link"></span></a>Compose toi toi-même</h2>
<p><a href="https://docs.docker.com/compose/" target="_blank" rel="nofollow noopener noreferrer">Docker-Compose</a>, anciennement Fig créé par <a href="https://www.orchardup.com/" target="_blank" rel="nofollow noopener noreferrer">Orchard</a> (racheté par Docker Inc. depuis) est un outil qui permet de facilement déclarer dans un fichier YaML les différents services qui lient notre applications. On y décrit comment les conteneurs qui accueillent les services dont notre application a besoin sont liés entre eux et doivent se comporter (ports à exposer, volumes à monter, etc...) comme on le ferait en ligne de commande avec le client <code>docker</code>. Exemple ici pour un wiki simpliste :</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F07178">Mediawiki</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">image</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">nickstenning/mediawiki:latest</span><span style="color: #89DDFF">"</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">links</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">- </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">MySQL:mysql</span><span style="color: #89DDFF">"</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">ports</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">- </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">8088:80</span><span style="color: #89DDFF">"</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">volumes</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">- </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">/var/mediawiki:/data</span><span style="color: #89DDFF">"</span>
<span style="color: #F07178">MySQL</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">image</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">centurylink/mysql:5.5</span><span style="color: #89DDFF">"</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">ports</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">- </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">3306:3306</span><span style="color: #89DDFF">"</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">expose</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">- </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">3306</span><span style="color: #89DDFF">"</span>
<span style="color: #FFFFFF">  </span><span style="color: #F07178">environment</span><span style="color: #89DDFF">:</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">- </span><span style="color: #C3E88D">MYSQL_ROOT_PASSWORD=MediaWiki.123</span></code></pre>
<p>NOTE: Note: Cet exemple est honteusement pompé sur <a href="https://lorry.io/" target="_blank" rel="nofollow noopener noreferrer">Lorry.io</a> (voir lien en fin d'article). En plus des services dont dépend notre projet, on peut déclarer des services de monitoring, un stack ELK portable, des services de mocks, etc... Ultra-pratique.</p>
<p>On sort le CLI docker-compose (<code>pip install docker-compose</code>) et on commence à orchestrer tout ce petit monde :</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #FFFFFF">docker-compose start ./docker-compose.yml</span></code></pre>
<p>Le fichier est alors passé au démon Docker qui va se charger de récupérer ou build les images selon les cas et démarrer les conteneurs demandés avec un nom parlant. Voilà, votre environnement de dev est prêt!</p>
<h2 id="ce-nest-que-du-texte"><a href="#ce-nest-que-du-texte" aria-hidden="true"><span class="icon icon-link"></span></a>Ce n'est que du texte</h2>
<p>...Et le texte, ça se versionne très simplement ! Comme ce bon vieux <code>requirements.txt</code> bien connus des Pythonistes qui permet déjà de récupérer les dépendances d'un projet, on applique le même traitement à notre environnement. En ajoutant le fichier <code>docker-compose.yml</code> à un dépôt de versionning git par exemple, on permet à n'importe qui de rapidement cloner le dépôt et monter un environnement de développement. Plus besoin d'installer tout un tas de paquets sur sa machine ni de monter une VM dédiée.</p>
<p>En bonus, on peut joindre au dépôt un <code>Dockerfile</code> et ajouter notre projet dans le <code>docker-compose.yml</code> pour qu'une instance soit lancée en même temps que le reste de l'environnement : <em>Docker-ception</em>.</p>
<h2 id="docker-est-development-ready"><a href="#docker-est-development-ready" aria-hidden="true"><span class="icon icon-link"></span></a>Docker est "Development-Ready"</h2>
<p>Cela change radicalement des worklows de développement où l'on passait un temps fou à trouver une machine propice au développement d'un projet en particulier, où l'on installait en dur sur sa machine un moteur de base de données, un serveur web, etc...</p>
<p>Même avec l'avènement de solutions comme Vagrant, on avait toujours besoin d'avoir un moteur de machines virtuelles (VirtualBox, VMWare, etc...). Docker nous facilite grandement la vie et gère toute la complexité de partager un environnement de dev de bout en bout.</p>
<p>En production, la donne est légèrement différente (car les problématiques ne sont pas les mêmes). Mais les solutions compatibles avec ce workflow de développement existent ! Tous les grands <em>cloud providers</em> proposent déjà un service de <em>hosting</em> de conteneurs; et chacun applique sa propre sauce d'orchestration des services. <a href="https://giantswarm.io/" target="_blank" rel="nofollow noopener noreferrer">GiantSwarm</a>, un <em>cloud provider</em> proposant une offre de PaaS pensée pour gérer des conteneurs possède son propre vocabulaire de summary des services : c'est un dernier fichier YAML à joindre à son code et "pouf" votre application est déployée en poussant votre code - "Heroku-style", mais on parle ici de <em>tous</em> les composants (ou micro-services) de votre application, même les services tiers comme la BDD, etc...).</p>
<p>NOTE: Note: GiantSwarm est actuellement en phase d'early access. J'ai la chance de pouvoir tester leurs services et je vous assure que le mot déploiement revêt un sens nouveau depuis que je teste leur plate-forme. Allez y faire un tour.</p>
<p>Enfin, <a href="http://rancher.com/rancher-feature-iii/" target="_blank" rel="nofollow noopener noreferrer">Rancher</a>, un moteur de PaaS à installer soi-même comme un grand à choisi d'utiliser la grammaire de docker-compose (on peut donc lui donner à manger un <code>docker-compose.yml</code> et il se charger de monter nos services !) et de l'étendre avec un <code>rancher-compose.yml</code> qui permet de définir des règles d'auto-scale, de load-balancing et plus encore.</p>
<p>L’approche de Rancher, pendant que j’y suis, est assez originale : votre outil d'orchestration est lui aussi rangé dans un conteneur. Il est multi-environnement, possède une bel interface web et l’équipe à l’origine du projet propose également <em>RancherOS</em>, un OS ou quasiment <em>tout</em> est conteneurisé. Je pourrais vous en parler des heures, mais vous êtes déjà parti vous monter un cluster <em>CoreOS</em> pour tester tout ça, je le sais bien.</p>
<p>Et vous ? Docker en environnement de dev ? de prod ?!</p>
<h2 id="quelques-liens"><a href="#quelques-liens" aria-hidden="true"><span class="icon icon-link"></span></a>Quelques liens</h2>
<ul>
<li>Docker-Compose: <a href="https://docs.docker.com/compose/" target="_blank" rel="nofollow noopener noreferrer">https://docs.docker.com/compose/</a></li>
<li>Giant-Swarm : <a href="https://giantswarm.io/" target="_blank" rel="nofollow noopener noreferrer">https://giantswarm.io/</a></li>
<li>Rancher / Rancher OS : <a href="http://rancher.com/" target="_blank" rel="nofollow noopener noreferrer">http://rancher.com/</a></li>
<li>Lorry.io : <a href="https://lorry.io/" target="_blank" rel="nofollow noopener noreferrer">https://lorry.io/</a></li>
</ul>
</div><div id="disqus_thread"></div><div class="mb-8"><a href="/blog" class="font-bold uppercase active">Back to Blog</a></div></div></div><footer class="bg-blue-700 text-white"><div class="container mx-auto flex flex-col lg:flex-row items-center justify-between py-8"><div class="mb-8 lg:mb-0"><div>Copyright 2019. All rights reserved.</div><div><a href="rss.xml" class="text-white hover:text-gray-400 font-normal">RSS Feed</a>
          |
          <a href="sitemap.xml" class="text-white hover:text-gray-400 font-normal">Sitemap</a></div></div><ul class="flex items-center"><li class="mr-8"><a href="mailto:julien.tanay@gmail.com" class="text-white hover:text-gray-400"><svg width="25" height="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 0h20A2.5 2.5 0 0 1 25 2.5v15a2.5 2.5 0 0 1-2.5 2.5h-20A2.5 2.5 0 0 1 0 17.5v-15C0 1.125 1.125 0 2.5 0zm20 4.225V2.5h-20v1.725l10 5 10-5zm0 2.8l-9.438 4.713a1.25 1.25 0 0 1-1.124 0L2.5 7.025V17.5h20V7.025z" fill-rule="nonzero"></path></svg></a></li><li class="mr-8"><a href="https://github.com/djiit" target="_blank" class="text-white hover:text-gray-400"><svg width="20" height="19" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M10 0c1.814 0 3.487.435 5.02 1.306a9.827 9.827 0 0 1 3.639 3.542A9.33 9.33 0 0 1 20 9.734c0 2.121-.636 4.03-1.908 5.723a9.783 9.783 0 0 1-4.928 3.518c-.234.042-.408.012-.52-.09a.49.49 0 0 1-.17-.38l.006-.969c.005-.621.007-1.19.007-1.705 0-.82-.226-1.42-.677-1.8.495-.05.94-.126 1.335-.228a5.4 5.4 0 0 0 1.223-.494 3.62 3.62 0 0 0 1.055-.843c.282-.334.512-.777.69-1.33.178-.554.267-1.19.267-1.909a3.7 3.7 0 0 0-1.028-2.61c.32-.77.286-1.631-.105-2.586-.243-.076-.594-.03-1.054.14-.46.168-.86.354-1.198.557l-.495.304a9.478 9.478 0 0 0-2.5-.33c-.86 0-1.693.11-2.5.33a11.6 11.6 0 0 0-.553-.342c-.23-.135-.593-.298-1.088-.488-.494-.19-.863-.247-1.106-.171-.391.955-.426 1.816-.105 2.585A3.7 3.7 0 0 0 3.62 9.227c0 .719.089 1.352.267 1.902.178.549.406.993.683 1.33.278.339.627.622 1.048.85a5.4 5.4 0 0 0 1.224.494c.395.102.84.178 1.335.228-.338.305-.551.74-.638 1.306a2.631 2.631 0 0 1-.586.19 3.782 3.782 0 0 1-.742.063c-.287 0-.57-.09-.853-.272a2.256 2.256 0 0 1-.723-.792 2.068 2.068 0 0 0-.631-.66c-.256-.168-.471-.27-.645-.304l-.26-.038c-.182 0-.308.02-.378.057-.07.038-.09.087-.065.146.026.06.065.118.117.178.053.059.109.11.17.152l.09.063c.192.085.38.245.567.482.187.236.324.452.41.646l.13.292c.113.32.304.58.574.78.269.198.56.325.872.38.312.054.614.084.905.088.29.004.532-.01.723-.044l.299-.05c0 .32.002.694.007 1.12l.006.692a.49.49 0 0 1-.17.38c-.112.101-.286.13-.52.089a9.783 9.783 0 0 1-4.928-3.518C.636 13.763 0 11.855 0 9.734a9.33 9.33 0 0 1 1.341-4.886 9.827 9.827 0 0 1 3.64-3.542C6.512.436 8.185 0 10 0zM3.79 13.98c.025-.058-.005-.11-.092-.151-.087-.026-.143-.017-.17.025-.025.06.005.11.092.152.078.05.134.042.17-.025zm.403.432c.06-.043.052-.11-.026-.203-.087-.076-.157-.089-.209-.038-.06.042-.052.11.026.203.087.084.157.097.209.038zm.39.57c.078-.06.078-.14 0-.24-.07-.11-.143-.136-.221-.077-.078.042-.078.118 0 .228.078.11.152.14.221.089zm.547.532c.07-.067.052-.148-.052-.24-.104-.102-.19-.115-.26-.039-.078.068-.061.148.052.241.104.102.19.114.26.038zm.742.317c.026-.093-.03-.16-.169-.203-.13-.033-.213-.004-.247.09-.035.092.021.155.169.19.13.05.213.025.247-.077zm.82.064c0-.11-.073-.157-.22-.14-.14 0-.209.047-.209.14 0 .11.074.156.221.139.14 0 .209-.046.209-.14zm.756-.127c-.017-.093-.096-.131-.234-.114-.14.025-.2.088-.183.19.018.101.096.135.235.101.139-.034.2-.093.182-.177z" fill-rule="nonzero"></path></svg></a></li><li class="mr-8"><a href="https://twitter.com/djiit" target="_blank" class="text-white hover:text-gray-400"><svg width="20" height="17" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M19.807 1.943a8.588 8.588 0 0 1-2.036 2.135 11.918 11.918 0 0 1-.465 3.854 12.085 12.085 0 0 1-1.452 3.177 12.426 12.426 0 0 1-2.318 2.691c-.897.78-1.978 1.402-3.243 1.867-1.265.464-2.618.697-4.06.697-2.27 0-4.348-.618-6.233-1.854.293.034.62.051.98.051 1.885 0 3.565-.588 5.04-1.764a3.915 3.915 0 0 1-2.363-.825 4.038 4.038 0 0 1-1.432-2.039c.276.043.532.064.766.064.36 0 .717-.047 1.068-.14A3.982 3.982 0 0 1 1.73 8.43c-.617-.754-.925-1.63-.925-2.627v-.051c.57.324 1.182.498 1.835.524a4.1 4.1 0 0 1-1.32-1.47 4.078 4.078 0 0 1-.49-1.969c0-.75.185-1.445.553-2.084a11.548 11.548 0 0 0 3.702 3.05 11.163 11.163 0 0 0 4.669 1.271c-.067-.324-.1-.639-.1-.946 0-1.142.395-2.116 1.187-2.92C11.632.402 12.589 0 13.712 0c1.173 0 2.161.435 2.966 1.304a7.878 7.878 0 0 0 2.576-.997 3.997 3.997 0 0 1-1.785 2.275 7.98 7.98 0 0 0 2.338-.639z" fill-rule="nonzero"></path></svg></a></li></ul></div></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Docker pour les développeurs: Environment as Code","date":"August 2, 2015","content":"\u003Cp\u003E\u003Cimg class=\"g-image g-image--lazy g-image--loading\" src=\"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 792 269' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-0'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-0)' width='792' height='269' xlink:href='data:image\u002Fpng%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAWCAYAAABwvpo0AAAACXBIWXMAAAsSAAALEgHS3X78AAAHV0lEQVRYw%2b1Ye1BUVRg\u002F9y6mhrmilVoZyENgUcBE2EWwAsRSFpC7aKBp5issNUUJJBVGSWOFhZVFQhHKR7TiI9SGxAgxrUx7OZWNac%2bZHhNOj5myUe7pd%2b7e1cO6GPVXlnfmx\u002FnO%2b3ufbyHkxtf9T5%2bcTqLSZzjo1IdIlDRN0KdmKP3QFTZiSDL9PxSR5NJv%2bK8KajA6LKqHZRltSJJITOy9ggelJGHgLb1TCOmb6EluZmu%2b5dej1WOtc%2b\u002F1\u002FUFYd\u002F175ufXDF%2b9%2bcLIhQV257jemK6Qo2c%2bSUJX12miJs9U%2bhEzF19nlletxlpjyDCi2X6cFBLi0UjITdMJ6aUoYFFhU3j9cRqeZznK%2bgIUYEhKIxGzl3U6K2bMmE7e5IbWwGME1\u002FGrvVG6whfWA%2bJf7fnnyU49NF5lPjlwaM%2bg%2bcsbhuRZPtblFJ8Mf3rDCd1TJe0%2blp00ePGaNtUDhNjEiYogsPzgiFnZRWPvvKU384y7cyw9RmbMFZyeooSTClelGLjw6TSmrtcbJYHbI3QOVanTuXxr6BSW0l8r4UX2Z%2bcHDp5h\u002FaHZaz\u002FrX9FIA9bX03DbPupXVCsPKN5OfRcVtjn3hCxb76G4\u002FLzczLADX9OROaWF\u002FJlB85YL0RNSRM56Aqz6OFpfte\u002Fh8DxJBJMix7xGpZ1jscAUfg9yjcgp5LJXMYXpHf2rFOM%2b6bEEFxurbE64L6H\u002FsAWr6iH8kcDc0p99IXzAStsl3zU1l4atqOjwRz8wx3yezcNDahInSFpHflgxO6jtd6qraPrGb26uzTvXWj4q\u002FZGwLu48DuYevBJ%2bEj8nuvXQJNNKzB1wtw6houHWiV0ldvfZHnE2NmG8GDJ9oYfT8kNyis8PKt5KAwuraOiGvfLQlTY6aNmz1A9tuMUuBxRspIPM25gnnHGeN85vULTuudaLvZp\u002FpsLB8\u002FTWqhYaIT2cptYS8WDyMO48ifuegwe8AwUY0PcEdurZeJLUDIzkLLsO606ifQ%2bIxNwCtNVQ1hDQL6mK02NvK8Y\u002FBLYAXmoe6wu6FmgGbudDp9Mz5RoX\u002FlkrsoPzN%2b4JWLfjJ5\u002Fiejl43fYO3Yb9NMBsl33Mdhq4dpscUt5IA832Du%2bSXVBQzY9h%2bZUvDF%2b7wx5Yffi0dtv7dODKTW1351pXRZimhyu5IXlyBBg9DwaWAHpgX3TKZGpwKOAoUI\u002F5UYrARtN3oD0hVDnoU%2bCTrXkU0EGBczD%2bMXAWeBLwBn7AXD5af7QtwFuqsEzZ%2b4EYoKdbL%2bCSiBg5KcOYEBMjDX666iPvvedo%2bMZDss7%2biRy053MabD9Nw6wHaGhlM2X9oF2f0VDrK6wvB%2b8%2bS3VN39PQvWfpkC3H6G1rtsrJwwNikUgT8TqMVa20CQxWcu7aA3cfA4qZAlx4qofQZrRvAsEuc7PHSlMpzpqpJm0bLF2rGjQM81\u002FgrieYtwBnrhkCziJHVUDvqJQp4%2bPi4sb5zck\u002FqC2y09sKai72L22k\u002FW3NsrZ0P%2b1bUEcHFNZRrbWJ9it7hQ4o2CKzfr%2by\u002FbK2vOlin9X23wYutdLRqZnmaKPkHzkpMwP1QYLK6BbgWe65FREGR\u002FQOi7e4vER14M0GJR0BfF0VEJuWyTxnvNqvNjg85V7I0A5I6ngK8Koa3hq3SZB\u002FQvhPN23BHE1ZCyW1H\u002FxBNh%2bnpOot%2bY7qFvm%2b7W2U1L1Hhc1vyqTmbZk8\u002F65Mak9QUnG4g1ha\u002FiAVb9A7FpkPdpHwYiB0O4SbCqG80X\u002FRkQSlXsCnQAX6LK7Zy\u002FArMBhKqAJOgB4OGA3M3ZOkLLTtwFc4Lw37\u002FHDeTyycMJeD8UT1vmTmQc7k6vr0Xv0GYxGspWEvQRYhPf3nF34YXnmAjqh4%2bUL8xj0dIRWN8uCqZlmz6ZjsUf2GrKlqk0VryyVScvAiKXmN3mRppt5ZhYfWE%2bLJzotMmaJhTxrL0s6MDIYzQJ9iyQrM7kN7l8oDYtt0RE1iTOBxqmFuBr0VSjuNfWeY1SGsCW0O5qIx3qyei3HT68D7wB7V6mOwtpqvEbr1pc2YpTAbHzUqYPWGynOtn5yh535sp%2bWnvukgtqOXiLWVoYOUvU5JWSvVWA7RfnmbLgQ%2bkl2El0PJsAgB5YwRmVnEtXBRGdLy1SBH97sSBpLIhUQf7FHrAQmVoLNOYHSn\u002FV78fVwN0T3hgx9eqLSmeQscl3v5eD3xTEmppWHflw2Hj9Kle9uo19rd1LNgB9Uur\u002Fnl9iVlJwIezSkaHxPtdyW205S9OvUs\u002FnL%2bbYZQfPFymXYULQ4B9Zyw6n6hi\u002Fdf5CpIQe%2buyuzODzO2eFZegUJPmDGXLyS0oyaa7lmam\u002FtA0rxFD4xInRo1KXKEj9PiyoK8zZr4%2b%2bMUOmzK7KvOZXUGV9oKXG1\u002FmUHVau7KY4H\u002Ftela5vLr9F3NGaXu\u002FxZ4bNUzCp2QMUOwNjRqrrV%2b4OJSDQQWKq9VbV3P\u002Fw8Ii5tAopPThWlL8sRl5nIxJrtIHDo9WxydNk2Inpj69zV847vx\u002FWu%2bPwEzkzweW9xhfwAAAABJRU5ErkJggg==' \u002F%3e%3c\u002Fsvg%3e\" width=\"792\" alt=\"Ajout d'un dépôt\" data-srcset=\"\u002Fassets\u002Fstatic\u002Fdocker-logo.82a2fbd.b924367.png 480w, \u002Fassets\u002Fstatic\u002Fdocker-logo.1b953f4.b924367.png 792w\" data-sizes=\"(max-width: 792px) 100vw, 792px\" data-src=\"\u002Fassets\u002Fstatic\u002Fdocker-logo.1b953f4.b924367.png\"\u003E\u003Cnoscript\u003E\u003Cimg class=\"g-image g-image--lazy g-image--loaded\" src=\"\u002Fassets\u002Fstatic\u002Fdocker-logo.1b953f4.b924367.png\" width=\"792\" alt=\"Ajout d'un dépôt\"\u003E\u003C\u002Fnoscript\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EDocker, ce game changer qu'un certain Solomon Hykes venait (bien trop) rapidement presenter en pleine PyCon UK 2013 (\u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=wW9CAH9nSLs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Esouvenirs\u003C\u002Fa\u003E) change radicalement la vie des (dev)ops. Mais pour un dev' tout court, quelle utilité ?\nSpoiler Alert : Docker (et Docker-Compose) va permettre de déclarer de manière simple et portable un ensemble de services tiers liés à notre application. Chaque dev peut alors mettre en route en quelques instants un environnement de développement \u003Cem\u003Eiso\u003C\u002Fem\u003E à celui du reste de son équipe. Ou du reste du monde. Portabilité bonjour.\u003C\u002Fp\u003E\n\u003Ch2 id=\"compose-toi-toi-même\"\u003E\u003Ca href=\"#compose-toi-toi-m%C3%AAme\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECompose toi toi-même\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fdocs.docker.com\u002Fcompose\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EDocker-Compose\u003C\u002Fa\u003E, anciennement Fig créé par \u003Ca href=\"https:\u002F\u002Fwww.orchardup.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EOrchard\u003C\u002Fa\u003E (racheté par Docker Inc. depuis) est un outil qui permet de facilement déclarer dans un fichier YaML les différents services qui lient notre applications. On y décrit comment les conteneurs qui accueillent les services dont notre application a besoin sont liés entre eux et doivent se comporter (ports à exposer, volumes à monter, etc...) comme on le ferait en ligne de commande avec le client \u003Ccode\u003Edocker\u003C\u002Fcode\u003E. Exemple ici pour un wiki simpliste :\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F07178\"\u003EMediawiki\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Enickstenning\u002Fmediawiki:latest\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Elinks\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EMySQL:mysql\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eports\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E8088:80\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Evolumes\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E\u002Fvar\u002Fmediawiki:\u002Fdata\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #F07178\"\u003EMySQL\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003Ecenturylink\u002Fmysql:5.5\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eports\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E3306:3306\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eexpose\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003E3306\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F07178\"\u003Eenvironment\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E:\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E- \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C3E88D\"\u003EMYSQL_ROOT_PASSWORD=MediaWiki.123\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENOTE: Note: Cet exemple est honteusement pompé sur \u003Ca href=\"https:\u002F\u002Florry.io\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ELorry.io\u003C\u002Fa\u003E (voir lien en fin d'article). En plus des services dont dépend notre projet, on peut déclarer des services de monitoring, un stack ELK portable, des services de mocks, etc... Ultra-pratique.\u003C\u002Fp\u003E\n\u003Cp\u003EOn sort le CLI docker-compose (\u003Ccode\u003Epip install docker-compose\u003C\u002Fcode\u003E) et on commence à orchestrer tout ce petit monde :\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #FFFFFF\"\u003Edocker-compose start .\u002Fdocker-compose.yml\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ELe fichier est alors passé au démon Docker qui va se charger de récupérer ou build les images selon les cas et démarrer les conteneurs demandés avec un nom parlant. Voilà, votre environnement de dev est prêt!\u003C\u002Fp\u003E\n\u003Ch2 id=\"ce-nest-que-du-texte\"\u003E\u003Ca href=\"#ce-nest-que-du-texte\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECe n'est que du texte\u003C\u002Fh2\u003E\n\u003Cp\u003E...Et le texte, ça se versionne très simplement ! Comme ce bon vieux \u003Ccode\u003Erequirements.txt\u003C\u002Fcode\u003E bien connus des Pythonistes qui permet déjà de récupérer les dépendances d'un projet, on applique le même traitement à notre environnement. En ajoutant le fichier \u003Ccode\u003Edocker-compose.yml\u003C\u002Fcode\u003E à un dépôt de versionning git par exemple, on permet à n'importe qui de rapidement cloner le dépôt et monter un environnement de développement. Plus besoin d'installer tout un tas de paquets sur sa machine ni de monter une VM dédiée.\u003C\u002Fp\u003E\n\u003Cp\u003EEn bonus, on peut joindre au dépôt un \u003Ccode\u003EDockerfile\u003C\u002Fcode\u003E et ajouter notre projet dans le \u003Ccode\u003Edocker-compose.yml\u003C\u002Fcode\u003E pour qu'une instance soit lancée en même temps que le reste de l'environnement : \u003Cem\u003EDocker-ception\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"docker-est-development-ready\"\u003E\u003Ca href=\"#docker-est-development-ready\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EDocker est \"Development-Ready\"\u003C\u002Fh2\u003E\n\u003Cp\u003ECela change radicalement des worklows de développement où l'on passait un temps fou à trouver une machine propice au développement d'un projet en particulier, où l'on installait en dur sur sa machine un moteur de base de données, un serveur web, etc...\u003C\u002Fp\u003E\n\u003Cp\u003EMême avec l'avènement de solutions comme Vagrant, on avait toujours besoin d'avoir un moteur de machines virtuelles (VirtualBox, VMWare, etc...). Docker nous facilite grandement la vie et gère toute la complexité de partager un environnement de dev de bout en bout.\u003C\u002Fp\u003E\n\u003Cp\u003EEn production, la donne est légèrement différente (car les problématiques ne sont pas les mêmes). Mais les solutions compatibles avec ce workflow de développement existent ! Tous les grands \u003Cem\u003Ecloud providers\u003C\u002Fem\u003E proposent déjà un service de \u003Cem\u003Ehosting\u003C\u002Fem\u003E de conteneurs; et chacun applique sa propre sauce d'orchestration des services. \u003Ca href=\"https:\u002F\u002Fgiantswarm.io\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EGiantSwarm\u003C\u002Fa\u003E, un \u003Cem\u003Ecloud provider\u003C\u002Fem\u003E proposant une offre de PaaS pensée pour gérer des conteneurs possède son propre vocabulaire de summary des services : c'est un dernier fichier YAML à joindre à son code et \"pouf\" votre application est déployée en poussant votre code - \"Heroku-style\", mais on parle ici de \u003Cem\u003Etous\u003C\u002Fem\u003E les composants (ou micro-services) de votre application, même les services tiers comme la BDD, etc...).\u003C\u002Fp\u003E\n\u003Cp\u003ENOTE: Note: GiantSwarm est actuellement en phase d'early access. J'ai la chance de pouvoir tester leurs services et je vous assure que le mot déploiement revêt un sens nouveau depuis que je teste leur plate-forme. Allez y faire un tour.\u003C\u002Fp\u003E\n\u003Cp\u003EEnfin, \u003Ca href=\"http:\u002F\u002Francher.com\u002Francher-feature-iii\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ERancher\u003C\u002Fa\u003E, un moteur de PaaS à installer soi-même comme un grand à choisi d'utiliser la grammaire de docker-compose (on peut donc lui donner à manger un \u003Ccode\u003Edocker-compose.yml\u003C\u002Fcode\u003E et il se charger de monter nos services !) et de l'étendre avec un \u003Ccode\u003Erancher-compose.yml\u003C\u002Fcode\u003E qui permet de définir des règles d'auto-scale, de load-balancing et plus encore.\u003C\u002Fp\u003E\n\u003Cp\u003EL’approche de Rancher, pendant que j’y suis, est assez originale : votre outil d'orchestration est lui aussi rangé dans un conteneur. Il est multi-environnement, possède une bel interface web et l’équipe à l’origine du projet propose également \u003Cem\u003ERancherOS\u003C\u002Fem\u003E, un OS ou quasiment \u003Cem\u003Etout\u003C\u002Fem\u003E est conteneurisé. Je pourrais vous en parler des heures, mais vous êtes déjà parti vous monter un cluster \u003Cem\u003ECoreOS\u003C\u002Fem\u003E pour tester tout ça, je le sais bien.\u003C\u002Fp\u003E\n\u003Cp\u003EEt vous ? Docker en environnement de dev ? de prod ?!\u003C\u002Fp\u003E\n\u003Ch2 id=\"quelques-liens\"\u003E\u003Ca href=\"#quelques-liens\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EQuelques liens\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EDocker-Compose: \u003Ca href=\"https:\u002F\u002Fdocs.docker.com\u002Fcompose\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fdocs.docker.com\u002Fcompose\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EGiant-Swarm : \u003Ca href=\"https:\u002F\u002Fgiantswarm.io\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fgiantswarm.io\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ERancher \u002F Rancher OS : \u003Ca href=\"http:\u002F\u002Francher.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Francher.com\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ELorry.io : \u003Ca href=\"https:\u002F\u002Florry.io\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Florry.io\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","tags":[{"title":"Docker","path":"\u002Fblog\u002Ftag\u002FDocker"},{"title":"Docker-Compose","path":"\u002Fblog\u002Ftag\u002FDocker-Compose"},{"title":"DevOps","path":"\u002Fblog\u002Ftag\u002FDevOps"},{"title":"GiantSwarm","path":"\u002Fblog\u002Ftag\u002FGiantSwarm"},{"title":"Rancher","path":"\u002Fblog\u002Ftag\u002FRancher"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.ebfc220b.js" defer></script><script src="/assets/js/page--src--templates--post-vue.c3598f65.js" defer></script>
  </body>
</html>
