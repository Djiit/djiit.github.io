(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{254:function(e){e.exports={data:{tag:{title:"Automation",belongsTo:{edges:[{node:{title:"Distribuer un projet Python sur PyPI avec Travis-CI",path:"/blog/distribuer-un-projet-python-sur-py-pi-avec-travis-ci",date:"22. September 2015",timeToRead:2,description:"Vous avez toujours rêvé de distribuer votre lib Python sur PyPI sans jamais oser le faire ?",coverImage:null,content:'<p>Vous avez toujours rêvé de distribuer votre lib Python sur PyPI sans jamais oser le faire ?</p>\n<p><a href="https://travis-ci.org/" target="_blank" rel="nofollow noopener noreferrer">Travis-CI</a>, un service bien connu de la communauté open-source, assure l\'intégration continue (les tests, le build) de vos projets hébergés sur GitHub. Vous vous en doutez, il est aussi capable de pousser votre lib sur PyPI. Retour d\'expérience.</p>\n<h2 id="fordisme-20"><a href="#fordisme-20" aria-hidden="true"><span class="icon icon-link"></span></a>Fordisme 2.0</h2>\n<p>Le monde est bien fait, je souhaitais brancher un minuscule projet perso avec Travis. Pour ça, rien de plus simple. Rendez-vous sur travis-ci.org et connectez-vous avec votre compte GitHub.</p>\n<p>Depuis la barre latérale de gauche, selectionnez le "+" et laissez vous guider par l\'interface.</p>\n<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill=\'none\' viewBox=\'0 0 325 233\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\'%3e%3cdefs%3e%3cfilter id=\'__svg-blur-0\'%3e%3cfeGaussianBlur in=\'SourceGraphic\' stdDeviation=\'40\'/%3e%3c/filter%3e%3c/defs%3e%3cimage x=\'0\' y=\'0\' filter=\'url(%23__svg-blur-0)\' width=\'325\' height=\'233\' xlink:href=\'data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAuCAIAAAAX9YijAAAACXBIWXMAAAsSAAALEgHS3X78AAAGtElEQVRo3u1YW5PayBWeH7NveUjVPmx%2bwv6fPHjjpJL/k0rN2rXZXcf2eGwY7jCSEBK6AkISAiGhuxCgi/eIZmTmwtpVIZ6Z1HSd6jrqPt19vj6XPnBiOyYiyzYW1hwImGJwnxx3sf%2bJ5KFHdOeSr0AnBed6iyB0/MBByu3TTt3FfP/T9SwQ9nwb6Da2K0h3wLM%2byZj7Gx4Qy8k%2bfEcnhTbigK/Vq7VaVVHH4dJDVw7jQMAsLIPoYojforVkZVS%2bKPUokuMZdTKGEXSG4%2bazjrdw3YXjwnLYxM6V%2bHRTFvQIdr6/b%2b0Gr99CcTRi0KqDFkBnVyplDO9QNNlqNQSRqzdqZI%2bg6d5M13ACoyiS7lONRm06U2Hft2dvQGY21y4qZV5gwRoL2/A8S1KV9mWDo0lpLM10VZnIijIE%2be2NGrZrkTQpcPRgIOjGVBxy0kgAV4RbM80puh3HMY2FwfEsz7OaNh4MhyORn0zG%2bfLfARBGHoZ1RJGrVi/6DDXR5FqtAlo2mnUcv2w0a/V6td1pAkjDnOlz7ezs7WodbuIIBMB6OQDL8H2bH40qtXKjegEL2p1O%2beLDUKDhvnc%2b4Fo0y8AsThCNTrtSftPutAmyA4dKAwaJgQ11c95qt6rVaqn8rtVqweHNRlXXFTDpYQBLFy6eYWlQVJsqzWb9/YfzUuk9eMjLly8UVSqVSyNpAHoTXRzQlkofAA/PMxeVCzAFAMhd0V1o%2bpTl%2b5IkAiqgSr3G9vGtFyEAC0mWBiI3lIYMS42GnDgUeZ4GSVUZgr%2bBs4EFTMvQNEXVVE5gwDgYhnN94jMWACcD0elsMpZHhqmrmgx2kMZD4AWRhdsFHmwJg3NjCsKmOYOogINlBVxFK%2bIYea3nW17u37Y%2bn84N7UY2g5veytgFc9vLt/vsJHNUsP/1ILmZhRAGtB2KoSB0Uaih1ITOg8HcoXNDLyDWUSK6lYWKPJYf7Nw6OJ%2b6zhymnd0OptH9dLnN67unAL0JBX99BOXT7ae9oxuZ96vRyXIZPF4KQu/k42NucRw/AXgC8ATgqmWPp90NIE3TJN11yVUr2DTZjSNmTyTZY6/4vfkr%2bSM0pGTB3wQAhz1kbwH1lssluv67AWRpuklSWVYWJvyAsP28orAdx3F9X1HkKAziJIViBYrkKPCghLCgQrGhXodSwgcpz/e06dSYTX2oSF0oiOfWtq2iJfLP/xKAaZrz%2bdzzvP27/gQgQwDiVBxJ3S7Jsn2OFy7xzlAQ5KkmcMxEVW3Xb3U6OHEJ6kmSRPcZlmdZrt9nGFEU6H6f6hEs1WcFHqp8qgc/HmiY1hTpiAB0Xb8bALILnBKGYKgwiiI/CPzAizebIFxGy3Czidfrjeu5YRgkMQyvoRmW5VjGarWO4FmHlfniKAiC9WYNO8BGUd6Wx3Ih2BksAHfxKGOgsOFBAGgiOdDS9FNKOih0cO0R2v5uTy/xE4AnAE8AHi6A7HrGRS3dUiFw9XmzNiyW3HM5nU%2bk2ebWuwZKr%2bJNod0qjgHIg7AAUvq9OPhXs17j%2bbljNWTltN1kVIVWJ11FolWVVpWeMnnVI2sC1Dfa5Vh%2bTVO9sUQqsmrOi000wwxC934AlIfDf7dbL7BunaOomf5ju/VLl/ixjf%2bzWf2VIF6T3Z8x4rxPvaF7P%2bP4f7rdc4592Wmf0XSTZ5B9oDdsJ1oF9%2bRC296LVuEyKFDBfQZRWMw%2b0CBGygmG0ZLl7mRCgIcoCq6ql6pKahp8YqqKTdS83xI%2bmRR8R1FYXY%2b/bivyxDULGEEg27bqOMq2R6RsST1MIDz3/fTrtmsAsiTJ0vT/4R04yt8E9wDAeXEatlsIwaO0QP8P30ye/TnXP45zDHfCyB4wAPZP32r/%2bGuuJDy9%2b9pnNwuM3ew%2bSMTvRrJ7AvDdH7W//yUvDQQhNoy1IOSvkh%2bkUbRTMc2S5XprojRd7X6hJ9Eq22z%2bd2o5jrNareDodBl9AYC//QAf/vn54PvvndNT4J1208d67mXVaXSCFh4IA69LeiRtl8%2bWHBewQ/tdxTn/EDJUQDE%2bhvkYEVvGsQLJNAyOZadTLVklTqX5MY6%2bCID36pX27Jn700/AB0zfJxmnfhYKg4CglurMaWIB1YtUySk1vM6lj5NBrx9QhPW%2bar089VpYbOpHBDAQRcu2smgTdHtZsvqsCz3PvcK2IY5T399WnkkCXuTnf4Nlm/hjsinCAqybrTcf4TVJwfXT2A3W8jhPAMdr8FSt1%2bsMhVaafEkMPEdBvEtEN6PzVrBm2U2BHMyR/wLaPS/ZZ6LlN6qTSfUV%2b%2bB0AAAAAElFTkSuQmCC\' /%3e%3c/svg%3e" width="325" alt="Ajout d\'un dépôt" data-srcset="/assets/static/travis_add_repo.5cb2611.7810013.png 325w" data-sizes="(max-width: 325px) 100vw, 325px" data-src="/assets/static/travis_add_repo.5cb2611.7810013.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/travis_add_repo.5cb2611.7810013.png" width="325" alt="Ajout d\'un dépôt"></noscript></p>\n<p>On est plutôt bien accueilli par ce bandeau sympa qui nous résume les étapes de configuration.</p>\n<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill=\'none\' viewBox=\'0 0 695 301\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\'%3e%3cdefs%3e%3cfilter id=\'__svg-blur-6\'%3e%3cfeGaussianBlur in=\'SourceGraphic\' stdDeviation=\'40\'/%3e%3c/filter%3e%3c/defs%3e%3cimage x=\'0\' y=\'0\' filter=\'url(%23__svg-blur-6)\' width=\'695\' height=\'301\' xlink:href=\'data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAcCAIAAABeRy4FAAAACXBIWXMAAAsSAAALEgHS3X78AAAH8UlEQVRYw9VY23MT1xn3H9J/oG996Fu5WDL4BnZswGBjJnYAeyZupzzQSct0KAnTh8x0JjwkQ0jGZFI6kwkhdDoQIDZlIBSIAWFjfEG%2b70p71V610kq70u6qv90jZCFLspNM2%2bnx8dHZPec75/ud8123wfMKjuMUCmjdTCbjuV7hVcnn8/4bb/3NxuIExfU8x3XRqT/5P1Ea8D8/v6CqCsPysy9mOJal/EJrqqwb5vTkpKIoDBOnaRqdeJzheU7Tdc9zQZiQpNv37j2YmBi7e/fO/fvoo6ZNEzByuRzBhlPI5fJBmwue0LHJKPqu6%2baB33V/PADLsmbnXs7Oz01Pv5iZnpl58fz51POFxcUYtWLnnRhFLSytTHz/6OX8XHRpOfIsEok8W1qIEuIVivr62rV7Dx5%2b%2bfert7%2b7e31s/G9fXQG8VMrkWVbXtIQoqooqCMU2kUiosqTIKIqc8DuaqsWomJkyfjwAM5OFnKRRTBOdnG37bVAgGLZtYwCDeMxms6aZZlneSOqEOGWas9HowvLy7MuX8wsLM2gXFzETQ0SWNj1aLxDUnypCP6j896V8EwBgyMVRVysBt5XFLUMQ0PrUblkh42TSa/2CV3zjBSe/Plp8WG/J7K2dVEPh/7w0aJouCDwUzjAMSVJURUkmk6IowuZIMh5lPakripo0koqqQQtFQUinU5IsYWYiIclQSgzLUtrMyJJkGKBOQo8xEUOqpqmqisV1PQnN1TVVSkhBH0QgT%2bi6P6hq2CSY6RsAXx%2bh9KqqbcU6NYAAa6E1jBT2AccpIwVifwE9KfAcNtYAL5XEpmqwMLQce8OA4AU4xOaqLMMY%2bLxDwZPkN6n7PPnr%2bJA0PfjDAgGNqkkSwMupVApM64Yh8DwTj/EcL8BaiSLDwF4LxEH9L0Xop2g8NIt4kqLG1AIAf2Lb2cC5kGqRNp8nfb/m14es0oQNj6WXsL1ZkJd569yrLTaSF2mD7WzSwWSQlJMTfl6vFplTAmBVVMsyYfez2Uw28BOEp/IJVanIexxeJmM%2befL41q2bjx49MAz4Da98Pvp1yMEWBPDhwwc3b954/HjCzKQryMk0ckZVAAAcOM5a2ZIAOK6TyZobl6gGO4PN1tZWTvz2REtzSzgUbt7dPDw0BCePdTBaH0BAXpicmhwcfKuxMbRt2/ZQqGlkZGRpaQnLlsg3AWBlTQQsFaIGgwA3XB8AuXoYleGh4fa29uPHjvf19vUf7m9rbUOHZeMI%2bQhVVQDB2bsUtbZ//4FwuGnv3g4UtDt3NgKPLCcQN5WoagKwc1nbylJaPMK9WFMpRovrmWLgkHfyFWdQ9fy%2b%2beZ6U3hX76Hew0Hp7ure170Pby5dulS6hKoACPmFCxd27NgJvltb21paWtF2dHRu377jypWvKu6wOoCsZRacwvsTn%2by6evzsdx9cn/7HNPtcYEVYPZg2iFZJEzZyAJ3Bih99%2bCEkp7Ojs%2bdAz%2bDAYFdXV8fejqZw09n33qsPILgB79SpU3va9/b3H%2bnp6ent7Tt48FBfX19XV/e5c%2be2BMDvW9aUMPd19NZjdvL7uUdROurkfUMA/wLV3BTAxYuj4cbQG51v4BIgS6jHjh4DmM8%2bu1iS4zo38KczZ5p3txzq7d23bz%2b4R9vTcxAXgpvZEgBfiW2rFJNkYAKMFOnbtlUJtZoGR%2bfmujq7Olr3QPoHBgaO9B9BBZ6nT59sRYTu/vNOqDHc1tzW1tYOEWpv3wMpCoXCkcjTzQFYuETXnU0s99448%2bcnl5wga/GK3NswRPWV2LIzQH6Pfhb%2bfGT3O4f7D/W9%2beYAJAHidP78eWLO6yixv7vnXZ6//atPjzcOd4e2Ne7a3dwYCkElRkdHod8Vx1cFQMbyZeBc5PLPRg/88ouhFSVecAsWlNr3BumNIlspQrZ/hL%2b588HPvxzcdfnEu2ff/fXbI6dPnx4fHyt5qFpmFMaDeMzua3/8xdXh1r%2be%2bMPJdwaPHj35u5NjY98iXa3YsToA3wc5eVplf3//489nbuRsP4fBwfsXZ1ub%2bgH/CB03ws2/Pf6X68v/wmUitiKCgcnolPiueQOOM746MfTt%2bw%2bZadyGbmjEoMO0o5ZT1dSBfM4i%2bS6JRmB6Ybw9D8krydpzVd1nmRO0C%2btxvxP8%2blRB0o9F8hXuvKL60UExSfC3xm9AlfMzZ3ASrGDXAYBXZsakY2uiwIkiL4g8okd4EETWeJRlMZ1K1uce4TQdozAT8TYibxAi9JQlMRaLYQU8mmmjKgafIcfGXoLISVICK2gaIl/kzhLPsZKfSYsczyFKhzey6/kBOwu%2beS6OgBm%2bkxf45eXFGBJvpPf0GlLxclHeCABROUXTEtiQRDZOg2mWYwWO4fHPxBgmjsjaqXEJIE%2bnDI5jp6am4rE1QRQYNoYcg2UZhmM4NkbRlCBwDry5XRsARM1PChRJVaWkgfRCD24/RwRgUxGCzhhJLZVCAoAsQ0YGgLRG1xTYMCJL9UUI0Qr41nUFB4F7SBlIOpAPKZBh0JYzUEuELKgsHaMpaoXFgbGsKHKYZ9nZOvFjmQTbSH0oahXnhCNfXIzG/e9JNE2tQhjI1dUJQsEIUrvl1RWBZ8DDwuIiy4CTVZaN5V/p/eZK7POBw3Z8rKTWZ7qqIpJKDmwr91YuRWQ%2bOuWLVNcZAsB7/ZuC65I8KO9/MAy67g8sTmXJb32R4ofK19dwa5MDwL8BIhRf0Nu7aRUAAAAASUVORK5CYII=\' /%3e%3c/svg%3e" width="695" alt="Trois étapes simples" data-srcset="/assets/static/travis_steps.82a2fbd.3dbae60.png 480w, /assets/static/travis_steps.b306fc5.3dbae60.png 695w" data-sizes="(max-width: 695px) 100vw, 695px" data-src="/assets/static/travis_steps.b306fc5.3dbae60.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/travis_steps.b306fc5.3dbae60.png" width="695" alt="Trois étapes simples"></noscript></p>\n<p>Un clic suffit pour dire à Travis de surveiller notre dépôt; le service récupère automatiquement la liste des dépots de notre compte GitHub.</p>\n<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill=\'none\' viewBox=\'0 0 269 47\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\'%3e%3cdefs%3e%3cfilter id=\'__svg-blur-7\'%3e%3cfeGaussianBlur in=\'SourceGraphic\' stdDeviation=\'40\'/%3e%3c/filter%3e%3c/defs%3e%3cimage x=\'0\' y=\'0\' filter=\'url(%23__svg-blur-7)\' width=\'269\' height=\'47\' xlink:href=\'data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAALCAIAAABAlBwmAAAACXBIWXMAAAsSAAALEgHS3X78AAAC3UlEQVRIx9VV20/TYBTnnzG%2bGKMRIYoaefUWiSEICgRfjJLomw%2bo8dFEpzz4wk2UyAZTwtwc6waObrKtA0G3duvawrZGZtjGuOzC1sva%2bcHmKKwQxhsnv3w9Of2%2bnvM7p%2bd8FbkjLhWlptBaiAwTeNhXBBEhweoLE/PReaCXArxdXAuV5VjcEqmS1w9PQMxtHmZ51oAbW/VPbow%2bqNO039S0g/XayH2gAMs7pA/yQlr0mw7TS/EV1U0QZjbLFr9zIA6SiMWCFJWCCJsb8jgYAT7LjWC6C%2bqWalXTuaG7NZvKnSuahzXDzacG6ztghYWCIdxk8o1LAeFGmLIwPFNKgOM4hmFKHTMcH19fBxFyHA/2CIIAjFnwEMRiKQr09i2LLAFt7ec2EPHF4ZZj/VcfwS/1AWuVsrFK1fTMooCJSYPXaMRNUhi80CQFSwnkfScSSZvNbrFYI5Fo0biV1BxO0W7UtUASQX%2bQDtAY5o3FlsPhcCwSTaXTqUR8LZFkNpLLq3GOTbP5FMgx2ZNAlaqxTvu436OZi%2bD3TM8rlQ1nVY1PYQVMlkGAoii7HXG70dnZuW0CWzl2YyQdWrT9sM4hzhnkpwn6Pk%2bQATo0PT3jAGcQhxNxOoAgCGK3cRvxvTpEhsAXVFurbjs/1HxJ3foeG1XMfjz9qf6yuq1SebujTAKgAlNTdhjeUYECt8Ai6v7tJwnXLxcdCC4sBFGcTKws%2bWn67x8ap/wr0SXM61tdWXa73Pv0t0wTj2I6EPoZZQOI%2bPiH6ycG6qqHmkBBTg7eemHtnCTMYx4I8hqlGPMYzKRZtgd4nmdZTnYKgTUcjaUS63lLMrWRyTC7fn2x3DHKC1kk4OyaGXjl6Hrj6OlE%2bjqRXoWj%2b7Wj%2by3So/Pox30Txp0dDAAqgASdgiiUOUZz/0MVd01ViUUUD9jE23MjCwYDm83ypWD4TEYOaT4NTh3iGtp5CeTKvwbkCBwt%2bQd774RbqmSr3wAAAABJRU5ErkJggg==\' /%3e%3c/svg%3e" width="269" alt="Activation du dépot" data-srcset="/assets/static/travis_deploy.b61c3a2.73c67d2.png 269w" data-sizes="(max-width: 269px) 100vw, 269px" data-src="/assets/static/travis_deploy.b61c3a2.73c67d2.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/travis_deploy.b61c3a2.73c67d2.png" width="269" alt="Activation du dépot"></noscript></p>\n<p>Revenons un instant au code. On va ajouter un fichier <code class="language-text">.travis.yml</code> à la racine de notre dépot avec quelques infos dedans :</p>\n<pre class="language-yaml"><span class="token key atrule">language</span><span class="token punctuation">:</span> python\n\n<span class="token key atrule">python</span><span class="token punctuation">:</span>\n  <span class="token punctuation">-</span> <span class="token string">"3.4"</span>\n  <span class="token punctuation">-</span> <span class="token string">"3.5"</span>\n  <span class="token punctuation">-</span> "nightly" <span class="token comment"># currently points to 3.6-dev</span>\n\n<span class="token comment"># command to install dependencies</span>\n<span class="token key atrule">install</span><span class="token punctuation">:</span> <span class="token string">"pip install -e ."</span>\n\n<span class="token comment"># command to run tests</span>\n<span class="token key atrule">script</span><span class="token punctuation">:</span> py.test</pre>\n<p>On commit/push et... Magie ! Travis se lance dans les tests avec <a href="http://pytest.org/latest/" target="_blank" rel="nofollow noopener noreferrer">py.test</a> (arme de choix pour les tests en Python !), sur les versions de Python qu\'on a renseigné dans le précédent fichier.</p>\n<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill=\'none\' viewBox=\'0 0 1299 447\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\'%3e%3cdefs%3e%3cfilter id=\'__svg-blur-8\'%3e%3cfeGaussianBlur in=\'SourceGraphic\' stdDeviation=\'40\'/%3e%3c/filter%3e%3c/defs%3e%3cimage x=\'0\' y=\'0\' filter=\'url(%23__svg-blur-8)\' width=\'1299\' height=\'447\' xlink:href=\'data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAWCAIAAAD/3A1jAAAACXBIWXMAAAsSAAALEgHS3X78AAAD%2bklEQVRYw9VXQW/kNBTOf%2bLEhQtHziAhceCM%2bCX8AgTcuaEVghUqKhWoW1C1Wm13u%2bxOW9rtZDrJJLET24kT28mUz/ZMmJlumWUYwdb6FD17njN%2b73t%2b7yU4OTkbDF5cXFxwztM0G4VhOBoJzs/OzobD4bff3Pvy8692f9rd399/cHCglLp%2bA8Z0YQR5XmRZWlUVDldWFWecsaJpmsqNJ0dHBw8OBieD05PT8/NzY8zKW/53Y4LruzaU1uHV1XA0Ai7DMEDkFAXVGuumyHNKKKgwbUtIxhgjlNa1bNuOupHTXAiBt0ilQkKGhGDbfxk5eOZFsbO3993Ozg%2b7u/fu3w/a7rptZ/HUti2CZDrtnGy6rtVGQ8CKng%2bvoIxOhIiFqGGA1f%2bX8GO9Ggzouq6S0kPWMojDL65eflaKS1krKUul6qaR8HpdWx0w44yyZvTAFNAOZhtQqjFGORmeUbep4TBlVeI5tweOb4M/fv/09PjjSfTr5XAchhd5TuIkSpIojsZX41EpWNva92rt/8MKHsZBbwOsyKUkshqX/GUjM3dcu650rRU4ruFWHIPx4vDRI0JJa1TT2EUABnwyePw%2bJU/rWouSgYRaVqLkZSUYoxAAXJO6LoVgpeDKvrHZIuAUSjNWUEISmk2yLCEkJVmq3aF791l7VE1ohgBZ3B4Mnnx0/PBdSo6FkJznlRRVhTJQlCXD5eacYVqWXEq7iKla3r8VA3BcMI/DUWIRxeMkiTlsohnW4bVeGfasbA9ePP7g6Le3K3GK%2bwHifJxY042zvp1N/Tqm2z19H0KM5UkymUwiSlJKCaYgPPcGlKzXvMl/MDj68OnhO7x4jqByAdeopu5pmtOnFuTtgyNawXdOMpLi0N7T1nGddq5U6va9wbOH7x0fvvX82Y8/7/2SMxrH4zRLrkbD1PojniQx2MQzTeGgKIrGkP0N2yIQ9Lh7s1Th3LyC29xvDaDp92n0tZSprJuuMz79A4t5cwVe4Q3B3WslVnuhvKCCozwXcO2dNMB2B7b4KZTo6fTuIUB5xqXEfRU81kr4hOOvC2oKnigCyMdpOkFGQ3ZrXlUHUCJsmUP5Q%2bFzghCAXcTt3Li6Yfva1Be4hGXbDGNQ%2bZQvfh4o1/2v8w1LCj3c9nkzcwOv3LIW3oy1aoFyDCBnggG1zACym2NAwPdgA7323zAAr%2bNzyPu%2bpwLyxgygs/8HDNgTq2ruxRnQk3r3o1vs83HfjS73ib7YqWVhJm/cor7O3hkDqFO3MYBeyDNQ2H4L9Sy%2bScKcAeF9P6eCuSZqcwbQRLwOA7Y2Idy1rtwd%2bKtguW8xs8AAPpVtl7HyeeB1%2boifMzBjw8Wx2QCegbVqfwJrmwFtduMitwAAAABJRU5ErkJggg==\' /%3e%3c/svg%3e" width="1299" alt="Le job est en attente" data-srcset="/assets/static/travis_job_queued.82a2fbd.227410f.png 480w, /assets/static/travis_job_queued.cbab2cf.227410f.png 1024w" data-sizes="(max-width: 1299px) 100vw, 1299px" data-src="/assets/static/travis_job_queued.cbab2cf.227410f.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/travis_job_queued.cbab2cf.227410f.png" width="1299" alt="Le job est en attente"></noscript></p>\n<p>Une fois les tests joués, on a un retour clair sur les résultats des tests, un badge pour notre README en bonus et tout ça sans lever le petit doigt.</p>\n<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill=\'none\' viewBox=\'0 0 1002 397\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\'%3e%3cdefs%3e%3cfilter id=\'__svg-blur-9\'%3e%3cfeGaussianBlur in=\'SourceGraphic\' stdDeviation=\'40\'/%3e%3c/filter%3e%3c/defs%3e%3cimage x=\'0\' y=\'0\' filter=\'url(%23__svg-blur-9)\' width=\'1002\' height=\'397\' xlink:href=\'data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAZCAIAAAAOir%2b2AAAACXBIWXMAAAsSAAALEgHS3X78AAAFiUlEQVRYw9VYS28cRRCen8MPiBAHJBDiiITEAcgBEcEJCYkLOSEuXEEckLhxIZHsREIxiR%2bKIogcOTbYJL7EScz6tfbu7Oz0vHqePTM7O8tX3d5hd71rWw6LlHFp3NPT011f1ddV1auVZa9TFHlR4F72et1ut%2bhfvV6vLMvjhw7eF3iLTvzrUEeHBne7qnOqF9TAfWNz887du7cWFn5dWppbXLwxN/fL/LwG1feZucvMI9vCKCFSy7Icx7EdpyAVC8aYY9uu6zFm%2bpxjokQIDLAYa5vMtq0wDP4fANs7O6sb66vr62sbG%2buPH99fWXmwtqbBfFFahGnHFymMWkgHSLOSdQtl4rKLKbrVJR%2bHel74Ks4xRq1YAk6vJB16hEqzYvfHzZnv//p5i9UqrMfKd8EiPJaKMtOT47XKrpRSsvjMr8CPHCO1R8bWZ/e%2bubr83czWPGsYW0%2b3/t5%2bbltmu92ybNZoHrUNnZlGmiZ5nk5Dslxwz%2bGRZ3LGONMdPUz8TifLczF%2bfCawZxt6Y%2bXPPzzuak/t3ffmvnj31ue3a791YgGlPc8WIk5EJNIkDP0oCpIkyrJ0WgAyAHB56Bm83eZmUwGQ/acCaD5cX%2be%2bpz2xapfnr15Z%2bmpu%2b16Z5mEURFHIuQvVg4CjgXuWJZOm%2b08AGEYr8DnCgmWaLkUH%2bN%2bgGNFuwRUyRtJ90GmqgU7tmb339s1PX5/56E7t915eBCFPkjCOSWB4aA8PgD9TBeDYFhZC5HNdx/Mgrm0zxDlQK44C%2bAdvfe5WNAaASh/tubP/xuzHl659MF%2b7j%2b2bZglAj8iUVK8AYL9JAJYJq5ttuN2yTMdmrkuQ4B9yTbsFgyplsgGCAcDem7NXXr3%2bIXkAAACuP/W0Va8AyJ0WktKOBfODQlAdvEX0gw4yBoJFeaXPkAe2nf23bnzy2vXLC7vLeRAFvkf4JGfiOAKRFH/gGYxOU5EPoEfni7OLNjF3kA2hvc89mB8CIoHJIo2ryQdXGfLAlrVz6dr7r/z0zuLBg9uzN1dXH3LfrR/WEY50/ahe3zNNo9lsQHS90dKbeqtpGDp16ogEjaPDOqyFTXZhGDABZsMkjcaRabZgfhCpZehQoF4/iEL/JBGGPNAK2dcrP3y5/O0j40nkB/hTjqM0gRRDNVCuHvtbQjZy1UBkyPqB4uKCeXDHurRiV6U2uueTZ%2b70G1rvJb%2b0fmlRvqwA4AzDAAVdhGFsoZfQA1TyH58BymM/lCekN9z%2bt86dLOcqk88hZwymPWCGLEgDRE1EAB7zbLiKwn73fQ%2bxArmGMqLvITcHoY8wNzaqYE8j4yC0o6CimiqJKlGPqrhC%2b%2bwAJRJEJxQ8QeBPGk8A9t16lJJWRttwQmckIKpMideIzSAaUqJDBZ9LAW4ygCDwgEEVVLj7pARVJcoE8lVwJgAobVnIxw4y8dh4ihioqZOJimJVe0SIZPQWHCvkkaFU7VMiI8XEbqGGVY3BdpVfTxe5YleeScYvRx7YtnbdxEXpuXewh5oW%2bQ/IBhMNMheMhxoRlmi1dJuZyDIw5CQKRTKtwu/K3qqqVYbHHZ70fWLjqeYXypNIlcxCbmuHAR9b2pAHfHmAAFWSJE5kyTBSyWExwIBIEscCIhJVzZ6s/NQn4O%2bAJFIGHymVjv12ZB4sh/FAgk/GjtGwlVFaJBltERQ/VMl1RgDgMEMfq%2bVRY%2bVZSl2Cph47KdVO8pX0pJJUHokqE2YjZjoNQEb15aQxRKFnrMaFh7r74HC/7ZtCqPAilKRpjEIoDDk8eUwhi7h0eHjAmJER38SgdDoICL6kEPFHSZ9CXBVqilcjH56cB4Gu2TxS55sw8NBzYlhKmbj/m0AhT/3FiKjjc3X0ViMHHifIuKkuJAO/kIyTfwAyXQvUlsSDIAAAAABJRU5ErkJggg==\' /%3e%3c/svg%3e" width="1002" alt="Le job est terminé" data-srcset="/assets/static/travis_job_done.82a2fbd.cb556b1.png 480w, /assets/static/travis_job_done.4a6d921.cb556b1.png 1002w" data-sizes="(max-width: 1002px) 100vw, 1002px" data-src="/assets/static/travis_job_done.4a6d921.cb556b1.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/travis_job_done.4a6d921.cb556b1.png" width="1002" alt="Le job est terminé"></noscript></p>\n<h2 id="une-petite-envie-de-pypi"><a href="#une-petite-envie-de-pypi" aria-hidden="true"><span class="icon icon-link"></span></a>Une petite envie de PyPI</h2>\n<p>Coup de chance, Travis permet de déployer out-of-the-box vers une flopée de services.</p>\n<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill=\'none\' viewBox=\'0 0 269 47\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\'%3e%3cdefs%3e%3cfilter id=\'__svg-blur-10\'%3e%3cfeGaussianBlur in=\'SourceGraphic\' stdDeviation=\'40\'/%3e%3c/filter%3e%3c/defs%3e%3cimage x=\'0\' y=\'0\' filter=\'url(%23__svg-blur-10)\' width=\'269\' height=\'47\' xlink:href=\'data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAALCAIAAABAlBwmAAAACXBIWXMAAAsSAAALEgHS3X78AAAC3UlEQVRIx9VV20/TYBTnnzG%2bGKMRIYoaefUWiSEICgRfjJLomw%2bo8dFEpzz4wk2UyAZTwtwc6waObrKtA0G3duvawrZGZtjGuOzC1sva%2bcHmKKwQxhsnv3w9Of2%2bnvM7p%2bd8FbkjLhWlptBaiAwTeNhXBBEhweoLE/PReaCXArxdXAuV5VjcEqmS1w9PQMxtHmZ51oAbW/VPbow%2bqNO039S0g/XayH2gAMs7pA/yQlr0mw7TS/EV1U0QZjbLFr9zIA6SiMWCFJWCCJsb8jgYAT7LjWC6C%2bqWalXTuaG7NZvKnSuahzXDzacG6ztghYWCIdxk8o1LAeFGmLIwPFNKgOM4hmFKHTMcH19fBxFyHA/2CIIAjFnwEMRiKQr09i2LLAFt7ec2EPHF4ZZj/VcfwS/1AWuVsrFK1fTMooCJSYPXaMRNUhi80CQFSwnkfScSSZvNbrFYI5Fo0biV1BxO0W7UtUASQX%2bQDtAY5o3FlsPhcCwSTaXTqUR8LZFkNpLLq3GOTbP5FMgx2ZNAlaqxTvu436OZi%2bD3TM8rlQ1nVY1PYQVMlkGAoii7HXG70dnZuW0CWzl2YyQdWrT9sM4hzhnkpwn6Pk%2bQATo0PT3jAGcQhxNxOoAgCGK3cRvxvTpEhsAXVFurbjs/1HxJ3foeG1XMfjz9qf6yuq1SebujTAKgAlNTdhjeUYECt8Ai6v7tJwnXLxcdCC4sBFGcTKws%2bWn67x8ap/wr0SXM61tdWXa73Pv0t0wTj2I6EPoZZQOI%2bPiH6ycG6qqHmkBBTg7eemHtnCTMYx4I8hqlGPMYzKRZtgd4nmdZTnYKgTUcjaUS63lLMrWRyTC7fn2x3DHKC1kk4OyaGXjl6Hrj6OlE%2bjqRXoWj%2b7Wj%2by3So/Pox30Txp0dDAAqgASdgiiUOUZz/0MVd01ViUUUD9jE23MjCwYDm83ypWD4TEYOaT4NTh3iGtp5CeTKvwbkCBwt%2bQd774RbqmSr3wAAAABJRU5ErkJggg==\' /%3e%3c/svg%3e" width="269" alt="Services intégrés à Travis" data-srcset="/assets/static/travis_deploy.b61c3a2.73c67d2.png 269w" data-sizes="(max-width: 269px) 100vw, 269px" data-src="/assets/static/travis_deploy.b61c3a2.73c67d2.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/travis_deploy.b61c3a2.73c67d2.png" width="269" alt="Services intégrés à Travis"></noscript></p>\n<p>Dans notre <code class="language-text">.travis.yml</code> donc, on va ajouter ce petit bloc pour que Travis déploie notre projet sur PYPI - et uniquement les tags pour éviter de polluer le registre Python :</p>\n<pre class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>\n  <span class="token key atrule">provider</span><span class="token punctuation">:</span> pypi\n  <span class="token key atrule">user</span><span class="token punctuation">:</span> $PYPI_USER\n  <span class="token key atrule">password</span><span class="token punctuation">:</span> $PYPI_PASS\n  <span class="token key atrule">skip_cleanup</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>\n  <span class="token key atrule">on</span><span class="token punctuation">:</span>\n    <span class="token key atrule">tags</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>\n    <span class="token key atrule">branch</span><span class="token punctuation">:</span> master\n    <span class="token key atrule">python</span><span class="token punctuation">:</span> <span class="token string">"3.5"</span></pre>\n<p>Remarquez qu\'on utilise ici deux variables d\'environnement définies dans l\'interface de Travis; dont l\'une est encryptée pour des raisons évidentes :). Le <code class="language-text">skip_cleanup</code> a toute son importance car c\'est grâce à lui qu\'on va pouvoir pousser notre package vers PyPI. Enfin, les conditions listés dans <code class="language-text">on:</code> s\'assure que seul les tags sur la branche master construit avec python35 seront publiés sur PyPI.</p>\n<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill=\'none\' viewBox=\'0 0 1332 215\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\'%3e%3cdefs%3e%3cfilter id=\'__svg-blur-11\'%3e%3cfeGaussianBlur in=\'SourceGraphic\' stdDeviation=\'40\'/%3e%3c/filter%3e%3c/defs%3e%3cimage x=\'0\' y=\'0\' filter=\'url(%23__svg-blur-11)\' width=\'1332\' height=\'215\' xlink:href=\'data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAKCAIAAACLyM%2bDAAAACXBIWXMAAAsSAAALEgHS3X78AAABm0lEQVQ4y9VUTVODMBTM//87nlrPHuiMzvSmFdRCkVJKIAmEr4S6AevodARpvfTNTiaH7HvJvs0jrJARF1SIkLFYiCTLIs52jOVVdbiGIK3WrVJa6YPWqml66KZp6rquqgthojRRfcNwjOYsi%2bOZslRKEZamm80meA8812NJkmdZJkQP7C9G7q4dz33zfRTxPM/dboN4H%2b2j3SmiXZhQCspwTnft4s4Sp4SAyARKF7IopASqPwgwFdADtVCvR1/oN5RFMd7V4yWx0egAdoZZgmv41c92Xw4pJWQrOpE%2bMfiA0YR5nvfHsMLthHPu%2b364DdHklFKI9B/OOSLP4ZnXF5vGEZzzG75clCZ0NKexespkZ3WoTzRCKdOU6b8W9gPwkwa4RrZ%2bPUVXtDEzQ0HLqk/YzY8B1H3Rbsq0bUtA44KDdd4Uwx2E4BDhDC6KhmHoOM7tfL5cLpFkH2OSwxMcaYe5dwvrZjZ7sh2CJ8OmyNVOje7SkAF01G6nh2pUHMcYTwvLsu1ntIEmlDGGlo4%2b/nG1su4f/CAghyuPD9uSRhfUeHQwAAAAAElFTkSuQmCC\' /%3e%3c/svg%3e" width="1332" alt="Variables d\'environnement" data-srcset="/assets/static/travis_env_variables.82a2fbd.b3a02bb.png 480w, /assets/static/travis_env_variables.cbab2cf.b3a02bb.png 1024w" data-sizes="(max-width: 1332px) 100vw, 1332px" data-src="/assets/static/travis_env_variables.cbab2cf.b3a02bb.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/travis_env_variables.cbab2cf.b3a02bb.png" width="1332" alt="Variables d\'environnement"></noscript></p>\n<p>Hop, commit/push et Travis s\'occupe du reste ! Le projet est dispo en quelques instants sur <a href="https://pypi.python.org/pypi/vvvv%5BPyPI" target="_blank" rel="nofollow noopener noreferrer">https://pypi.python.org/pypi/vvvv[PyPI</a>] :</p>\n<h2 id="le-mot-de-la-fin"><a href="#le-mot-de-la-fin" aria-hidden="true"><span class="icon icon-link"></span></a>Le mot de la fin</h2>\n<p>On peut faire travailler un paquet de services pour nous autour de nos dépots pour automatiser pleins d\'actions d\'intégration différentes. On peut même demander au Hub Docker de construire une image tout seul... Mais ceci est une autre histiore.</p>\n<p>En bonus, pensez à ajouter un beau badge au <code class="language-text">README.md</code> de votre projet pour montrer à tout le monde que votre code est distribué sur PYPI en faisant un tour sur <a href="http://shields.io/" target="_blank" rel="nofollow noopener noreferrer">Shields.io</a>.</p>\n<pre class="language-text">[![PyPI](https://img.shields.io/pypi/v/vvvv.svg)](https://pypi.python.org/pypi/vvvv)</pre>\n<p>Quelques liens plus complet :</p>\n<ul>\n<li><a href="http://docs.travis-ci.com/user/languages/python/" target="_blank" rel="nofollow noopener noreferrer">http://docs.travis-ci.com/user/languages/python/</a></li>\n<li><a href="http://docs.travis-ci.com/user/deployment/pypi/" target="_blank" rel="nofollow noopener noreferrer">http://docs.travis-ci.com/user/deployment/pypi/</a></li>\n<li><a href="https://github.com/Djiit/vvvv/" target="_blank" rel="nofollow noopener noreferrer">https://github.com/Djiit/vvvv/</a> (le projet cobaye)</li>\n</ul>\n<p>A bientôt !</p>\n'}}]}}}}}}]);